<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Shop - CarHub</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="theme-premium">
    <!-- Navigation Header -->
    <header class="main-header nav-premium">
        <div class="logo">
            <img src="{{ url_for('static', filename='logo.png') }}" alt="CarHub Logo">
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('cars') }}" class="active">Shop Cars</a></li>
                <li><a href="{{ url_for('inventory') }}">Inventory</a></li>
                <li><a href="{{ url_for('services') if url_for('services') else '#' }}">Services</a></li>
                <li><a href="{{ url_for('video') }}">Video Gallery</a></li>
                <li><a href="{{ url_for('about') }}">About Us</a></li>
                {% if current_user.is_authenticated %}
                    <li class="profile-dropdown">
                        <div class="profile-trigger" onclick="toggleProfileDropdown()">
                            <div class="profile-info">
                                <div class="profile-avatar">
                                    {{ current_user.first_name[0].upper() if current_user.first_name else 'U' }}
                                </div>
                                <span class="profile-name">{{ current_user.first_name if current_user.first_name else 'User' }}</span>
                            </div>
                            <i class="fas fa-chevron-down dropdown-arrow"></i>
                        </div>
                        <div class="profile-dropdown-menu" id="profileDropdown">
                            <div class="dropdown-header">
                                <div class="dropdown-avatar">
                                    {{ current_user.first_name[0].upper() if current_user.first_name else 'U' }}
                                </div>
                                <div class="dropdown-user-info">
                                    <span class="dropdown-name">{{ current_user.first_name if current_user.first_name else 'User' }}</span>
                                    <span class="dropdown-email">{{ current_user.email if current_user.email else 'user@carhub.com' }}</span>
                                </div>
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-menu-items">
                                <a href="{{ url_for('profile') }}" class="dropdown-item">
                                    <i class="fas fa-user"></i>
                                    <span>Profile</span>
                                </a>
                                <a href="{{ url_for('dashboard') }}" class="dropdown-item">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span>Dashboard</span>
                                </a>
                                <a href="{{ url_for('my_orders') }}" class="dropdown-item">
                                    <i class="fas fa-shopping-bag"></i>
                                    <span>My Orders</span>
                                </a>
                            </div>
                            <div class="dropdown-divider"></div>
                            <div class="dropdown-menu-items">
                                <a href="{{ url_for('logout') }}" class="dropdown-item logout-item">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Logout</span>
                                </a>
                            </div>
                        </div>
                    </li>
                {% else %}
                    <li><a href="{{ url_for('login') }}">Login</a></li>
                    <li><a href="{{ url_for('sign_up') }}">Sign Up</a></li>
                {% endif %}
            </ul>
        </nav>
    </header>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'danger' if category == 'error' else category }}">
                        {{ message }}
                        <button type="button" class="close" onclick="this.parentElement.style.display='none'">
                            <span>&times;</span>
                        </button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;400;600;700;900&display=swap');
        
        :root {
            --primary-purple: #7c4dff;
            --primary-blue: #23235b;
            --dark-blue: #181828;
            --darker-blue: #0a0a1a;
            --accent-cyan: #07b0b3;
            --light-purple: #a084ff;
            --text-light: #e0e6ff;
            --text-muted: #b3baff;
            --luxury-gold: #ffd700;
            --deep-space: #0a0a1a;
            --cosmic-purple: #7c4dff;
            --silver: #c0c0c0;
            --charcoal: #2E2E36;
            
            /* Updated gradients to match index page */
            --gradient-primary: linear-gradient(90deg, #7c4dff 60%, #23235b 100%);
            --gradient-luxury: linear-gradient(90deg, #a084ff 80%, #23235b 100%);
            --gradient-dark: linear-gradient(120deg, #23235b 60%, #181828 100%);
            --gradient-space: radial-gradient(ellipse at top left, #23235b 0%, #0a0a1a 100%);
            --gradient-text: linear-gradient(45deg, #a084ff, #07b0b3, #ffd700);
        }

        * {
            box-sizing: border-box;
        }

        body {
            background: var(--gradient-space);
            color: var(--text-light);
            font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Background Video */
        .background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
            filter: brightness(1.0) contrast(1.4) saturate(1.2);
        }

        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                135deg,
                rgba(35, 35, 91, 0.4) 0%,
                rgba(24, 24, 40, 0.6) 50%,
                rgba(10, 10, 26, 0.7) 100%
            );
            z-index: -1;
        }

        /* Navigation Header Styles */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(35, 35, 91, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(124, 77, 255, 0.2);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .main-header.scrolled {
            background: rgba(35, 35, 91, 0.98);
            box-shadow: 0 8px 32px rgba(124, 77, 255, 0.2);
        }

        .logo img {
            height: 40px;
            filter: drop-shadow(0 2px 8px rgba(124, 77, 255, 0.3));
        }

        .main-nav ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 2rem;
        }

        .main-nav a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
        }

        .main-nav a:hover {
            color: var(--light-purple);
            background: rgba(124, 77, 255, 0.1);
            transform: translateY(-2px);
        }

        .main-nav a.active {
            color: var(--accent-cyan);
            background: rgba(7, 176, 179, 0.1);
        }

        /* Flash Messages */
        .flash-messages {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1001;
        }

        .alert {
            background: var(--gradient-dark);
            border: 2px solid rgba(124, 77, 255, 0.3);
            color: var(--text-light);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            box-shadow: 0 8px 32px rgba(124, 77, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-width: 300px;
        }

        .alert-danger {
            border-color: rgba(231, 76, 60, 0.5);
            background: linear-gradient(90deg, rgba(231, 76, 60, 0.1), var(--dark-blue));
        }

        .alert-success {
            border-color: rgba(46, 204, 113, 0.5);
            background: linear-gradient(90deg, rgba(46, 204, 113, 0.1), var(--dark-blue));
        }

        .close {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            margin-left: 1rem;
        }

        .close:hover {
            color: var(--accent-cyan);
        }

        /* Simplified particles - less resource intensive */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="0.5" fill="rgba(255,255,255,0.2)"/><circle cx="80" cy="40" r="0.7" fill="rgba(255,255,255,0.15)"/><circle cx="40" cy="80" r="0.5" fill="rgba(255,255,255,0.25)"/></svg>') repeat;
            animation: floatSlow 30s linear infinite;
            pointer-events: none;
            z-index: 1;
            opacity: 0.6;
        }

        @keyframes floatSlow {
            0% { transform: translateY(100vh); }
            100% { transform: translateY(-100px); }
        }
        .shop-header {
            text-align: center;
            padding: 6rem 0 2rem 0; /* Added more top padding for fixed header */
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 900;
            background: var(--gradient-text);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 2;
        }

        .shop-header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
            border-radius: 2px;
        }
        .car-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2.5rem;
            padding: 2rem 1rem 3rem 1rem;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .car-card {
            background: var(--gradient-dark);
            border-radius: 22px;
            box-shadow: 0 12px 40px 0 rgba(124, 77, 255, 0.33), 0 1.5px 8px rgba(24, 24, 40, 0.6);
            border: 2px solid rgba(124, 77, 255, 0.2);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .car-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 48px 0 rgba(124, 77, 255, 0.4), 0 2px 12px rgba(24, 24, 40, 0.7);
        }
        model-viewer {
            width: 100%;
            height: 280px;
            background: var(--dark-blue);
            border-radius: 15px;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(124, 77, 255, 0.2);
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .car-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--light-purple);
            margin-bottom: 0.8rem;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .car-desc {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
            text-align: center;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .car-price {
            font-size: 1.3rem;
            color: var(--accent-cyan);
            font-weight: 700;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }

        .car-buttons {
            display: flex;
            gap: 1rem;
            width: 100%;
            justify-content: center;
            align-items: center;
        }

        .buy-btn, .explore-btn {
            border: none;
            padding: 0.9rem 2rem;
            font-weight: 700;
            font-size: 1.05rem;
            color: white;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s, box-shadow 0.2s, transform 0.15s;
            position: relative;
            overflow: hidden;
            z-index: 1;
            flex: 1;
            max-width: 120px;
        }

        .buy-btn {
            background: var(--gradient-primary);
            box-shadow: 0 2px 8px rgba(124, 77, 255, 0.22);
        }

        .explore-btn {
            background: var(--gradient-dark);
            border: 2px solid rgba(124, 77, 255, 0.3);
            box-shadow: 0 2px 8px rgba(7, 176, 179, 0.22);
        }

        .buy-btn:hover {
            background: var(--gradient-luxury);
            transform: translateY(-2px) scale(1.03);
            box-shadow: 0 6px 20px rgba(124, 77, 255, 0.33);
        }

        .explore-btn:hover {
            background: linear-gradient(90deg, #07b0b3 60%, #23235b 100%);
            transform: translateY(-2px) scale(1.03);
            box-shadow: 0 6px 20px rgba(7, 176, 179, 0.33);
            border-color: var(--accent-cyan);
        }

        .buy-btn:active, .explore-btn:active {
            transform: translateY(0);
        }
        .search-bar-container {
            display: flex;
            justify-content: center;
            margin-bottom: 3rem;
            position: relative;
            z-index: 2;
        }

        .search-bar-wrapper {
            position: relative;
            width: 450px;
        }

        .search-bar {
            width: 100%;
            padding: 1.2rem 3rem 1.2rem 3.5rem;
            border-radius: 22px;
            border: 2.5px solid rgba(124, 77, 255, 0.33);
            background: var(--gradient-dark);
            color: var(--text-light);
            font-size: 1.1rem;
            outline: none;
            box-shadow: 0 4px 18px rgba(124, 77, 255, 0.22), 0 1.5px 8px rgba(24, 24, 40, 0.6);
            transition: border 0.25s, box-shadow 0.25s, background 0.25s;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 0.5px;
        }

        .search-bar:focus {
            border: 2.5px solid var(--light-purple);
            background: linear-gradient(90deg, #2e2e6b 60%, #23235b 100%);
            box-shadow: 0 6px 24px rgba(124, 77, 255, 0.44), 0 2px 12px rgba(24, 24, 40, 0.7);
        }

        .search-bar::placeholder {
            color: var(--text-muted);
            opacity: 1;
            font-size: 1rem;
            letter-spacing: 0.2px;
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            filter: invert(0.7) drop-shadow(0 0 2px rgba(124, 77, 255, 0.55));
            transition: all 0.3s ease;
        }

        .search-bar:focus + .search-icon {
            filter: invert(0.7) drop-shadow(0 0 5px rgba(124, 77, 255, 0.55));
            transform: translateY(-50%) scale(1.1);
        }

        /* Filter buttons */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }

        .filter-btn {
            padding: 0.7rem 1.5rem;
            border: 2px solid rgba(124, 77, 255, 0.2);
            background: var(--gradient-dark);
            color: var(--text-light);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(124, 77, 255, 0.11);
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: var(--light-purple);
            background: var(--gradient-primary);
            box-shadow: 0 4px 15px rgba(124, 77, 255, 0.33);
            transform: translateY(-2px);
        }
        @media (max-width: 768px) {
            .main-header {
                padding: 0.8rem 1rem;
            }
            
            .main-nav ul {
                gap: 1rem;
            }
            
            .main-nav a {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
            }
            
            .shop-header {
                font-size: 2.5rem;
                padding: 5rem 0 1.5rem 0; /* Adjusted for mobile */
            }
            
            .search-bar-wrapper {
                width: 90vw;
            }
            
            .car-list {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 1rem;
            }
            
            .filter-container {
                padding: 0 1rem;
            }
            
            .filter-btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .logo img {
                height: 35px;
            }
            
            .main-nav ul {
                gap: 0.5rem;
            }
            
            .main-nav a {
                font-size: 0.8rem;
                padding: 0.3rem 0.6rem;
            }
            
            .shop-header {
                font-size: 2rem;
                padding: 4.5rem 0 1rem 0; /* Further adjusted for small screens */
            }
            
            model-viewer {
                height: 250px;
            }
            
            .car-title {
                font-size: 1.3rem;
            }
            
            .buy-btn, .explore-btn {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
        }
    </style>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js" defer></script>
</head>
<body>
    <!-- Background Video -->
    <video class="background-video" autoplay loop muted playsinline>
        <source src="{{ url_for('static', filename='background.mp4') }}" type="video/mp4">
    </video>
    <div class="background-overlay"></div>
    
    <div class="shop-header">   Car Collection  </div>
    
    <div class="search-bar-container">
        <div class="search-bar-wrapper">
            <input type="text" id="searchBar" class="search-bar" placeholder="Search your dream car...">
            <img src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/icons/search.svg" class="search-icon" alt="search">
        </div>
    </div>

    <div class="filter-container">
        <button class="filter-btn active" data-filter="all">All Cars</button>
        <button class="filter-btn" data-filter="luxury">Luxury</button>
        <button class="filter-btn" data-filter="sports">Sports</button>
        <button class="filter-btn" data-filter="electric">Electric</button>
        <button class="filter-btn" data-filter="classic">Classic</button>
        <button class="filter-btn" data-filter="family">Family</button>
        <button class="filter-btn" data-filter="off-road">Off-Road</button>
    </div>
    <div class="car-list" id="carList">
        <div class="car-card" data-title="Bugatti Centodieci" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/bugatti_centodieci.mp4" type="video/mp4">
                </video>
            <div class="car-title">Bugatti Centodieci</div>
            <div class="car-desc">A rare hypercar with stunning performance and design. Limited edition.</div>
            <div class="car-price">$9,000,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='bugatti-centodieci') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='bugatti-centodieci') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        <div class="car-card" data-title="McLaren" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/McLaren.mp4" type="video/mp4">
            </video>
            <div class="car-title">McLaren 720S</div>
            <div class="car-desc">A British supercar known for its speed, handling, and innovation.</div>
            <div class="car-price">$1,200,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='mclaren-720s') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='mclaren-720s') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Maruti Suzuki XL6" data-category="family">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Maruti Suzuki XL6.mp4" type="video/mp4">
            </video>
            <div class="car-title">Maruti Suzuki XL6</div>
            <div class="car-desc">A practical and stylish family car with comfort and efficiency.</div>
            <div class="car-price">$18,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='maruti-suzuki-xl6') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='maruti-suzuki-xl6') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Bentley Mulliner Batur" data-category="luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Bentley Mulliner Batur.mp4" type="video/mp4">
            </video>
            <div class="car-title">Bentley Mulliner Batur</div>
            <div class="car-desc">Ultimate luxury grand tourer with bespoke craftsmanship.</div>
            <div class="car-price">$1,200,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='bentley-mulliner-batur') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='bentley-mulliner-batur') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
       <div class="car-card" data-title="Lamborghini Diablo SV" data-category="classic">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Lamborghini.mp4" type="video/mp4">
            </video>
            <div class="car-title">Lamborghini Diablo SV</div>
            <div class="car-desc">Classic 90s supercar with timeless Italian design and raw power.</div>
            <div class="car-price">$300,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='lamborghini-diablo-sv') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='lamborghini-diablo-sv') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Tesla Model 3" data-category="electric">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Tesla Model.mp4" type="video/mp4">
            </video>
            <div class="car-title">Tesla Model 3</div>
            <div class="car-desc">An electric sedan with cutting-edge technology and performance.</div>
            <div class="car-price">$40,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='tesla-model-3') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='tesla-model-3') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Tesla Cybertruck" data-category="electric">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/teslacybertruck.mp4" type="video/mp4">
            </video>
            <div class="car-title">Tesla Cybertruck</div>
            <div class="car-desc">A futuristic electric pickup with revolutionary design and performance.</div>
            <div class="car-price">$2,000,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='tesla-cybertruck') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='tesla-cybertruck') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Tata Tiago" data-category="family">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Tata Tiago.mp4" type="video/mp4">
            </video>
            <div class="car-title">Tata Tiago</div>
            <div class="car-desc">A reliable and affordable family hatchback with modern features.</div>
            <div class="car-price">$8,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='tata-tiago') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='tata-tiago') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        
        <div class="car-card" data-title="Rolls Royce Spectre" data-category="luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Rolls-Royce Spectre.mp4" type="video/mp4">
            </video>
            <div class="car-title">Rolls Royce Spectre</div>
            <div class="car-desc">The pinnacle of luxury electric grand touring.</div>
            <div class="car-price">$1,200,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='rolls-royce-spectre') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='rolls-royce-spectre') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Rolls Royce Ghost" data-category="luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Pink_Rolls_Royce_Ghost_Video.mp4" type="video/mp4">
            </video>
            <div class="car-title">Rolls Royce Ghost</div>
            <div class="car-desc">Effortless luxury sedan with whisper-quiet performance.</div>
            <div class="car-price">$1,200,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='rolls-royce-ghost') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='rolls-royce-ghost') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Porsche 718 Cayman" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Porsche_Cayman.mp4" type="video/mp4">
            </video>
            <div class="car-title">Porsche 718 Cayman</div>
            <div class="car-desc">Pure driving pleasure with exceptional handling and precision.</div>
            <div class="car-price">$120,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='porsche-718-cayman-gt4') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='porsche-718-cayman-gt4') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
        <div class="car-card" data-title="Mercedes Benz Maybach" data-category="luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Mercedes Benz Maybach.mp4" type="video/mp4">
            </video>
            <div class="car-title">Mercedes Benz Maybach</div>
            <div class="car-desc">Ultimate luxury sedan with unparalleled comfort and refinement.</div>
            <div class="car-price">$300,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='mercedes-maybach') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='mercedes-maybach') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
        
        <div class="car-card" data-title="Lamborghini Revuelto" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/lamborghini_revuelt.mp4" type="video/mp4">
            </video>
            <div class="car-title">Lamborghini Revuelto</div>
            <div class="car-desc">The next-generation V12 hybrid supercar with cutting-edge design.</div>
            <div class="car-price">$650,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='lamborghini-revuelto') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='lamborghini-revuelto') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        
        <div class="car-card" data-title="Ferrari Monza" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Ferrari.mp4" type="video/mp4">
            </video>
            <div class="car-title">Ferrari Monza</div>
            <div class="car-desc">Limited edition speedster with iconic Ferrari racing heritage.</div>
            <div class="car-price">$1,750,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='ferrari-monza-sp1') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='ferrari-monza-sp1') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="BMW M2 G87" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/bmw m2 G87.mp4" type="video/mp4">
            </video>
            <div class="car-title">BMW M2 G87</div>
            <div class="car-desc">Compact M car with explosive performance and precise handling.</div>
            <div class="car-price">$65,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='bmw-m2-g87') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='bmw-m2-g87') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        
        <div class="car-card" data-title="Aston Martin V8 Vantage" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/astonmartin.mp4" type="video/mp4">
            </video>
            <div class="car-title">Aston Martin V8 Vantage</div>
            <div class="car-desc">British grand tourer with elegant design and thrilling performance.</div>
            <div class="car-price">$150,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='aston-martin-v8-vantage') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='aston-martin-v8-vantage') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        
        <div class="car-card" data-title="Lamborghini Temerario" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Lamborghini Temerario.mp4" type="video/mp4">
            </video>
            <div class="car-title">Lamborghini Temerario</div>
            <div class="car-desc">Bold new supercar with hybrid V8 powertrain and radical styling.</div>
            <div class="car-price">$400,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='lamborghini-temerario') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='lamborghini-temerario') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Hyundai Ioniq 5N" data-category="electric sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Hyundai Ioniq 5N.mp4" type="video/mp4">
            </video>
            <div class="car-title">Hyundai Ioniq 5N</div>
            <div class="car-desc">High-performance electric SUV with track-focused dynamics.</div>
            <div class="car-price">$67,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='hyundai-ioniq-5n') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='hyundai-ioniq-5n') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        

        <div class="car-card" data-title="Jeep Wrangler Rubicon" data-category="off-road">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Jeep Wrangler Rubicon.mp4" type="video/mp4">
            </video>
            <div class="car-title">Jeep Wrangler Rubicon</div>
            <div class="car-desc">Ultimate off-road capability with iconic Jeep design and heritage.</div>
            <div class="car-price">$45,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='jeep-wrangler-rubicon') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='jeep-wrangler-rubicon') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
        <div class="car-card" data-title="Mahindra Scorpio" data-category="family off-road">
<video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Scorpio.mp4" type="video/mp4">
            </video>
            <div class="car-title">Mahindra Scorpio</div>
            <div class="car-desc">Rugged SUV with commanding presence and reliable performance.</div>
            <div class="car-price">$15,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='mahindra-scorpio') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='mahindra-scorpio') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
        <div class="car-card" data-title="Koenigsegg Agera" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Agera RS.mp4" type="video/mp4">
            </video>
            </model-viewer>
            <div class="car-title">Koenigsegg Agera</div>
            <div class="car-desc">Swedish hypercar with extraordinary speed and innovative engineering.</div>
            <div class="car-price">$2,500,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='koenigsegg-agera-rs') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='koenigsegg-agera-rs') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        
        <div class="car-card" data-title="SSC Tuatara Striker" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/SSC Tuatara Striker.mp4" type="video/mp4">
            </video>
            <div class="car-title">SSC Tuatara Striker</div>
            <div class="car-desc">American hypercar designed for ultimate speed and performance.</div>
            <div class="car-price">$1,900,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='ssc-tuatara-striker') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='ssc-tuatara-striker') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
        
        <div class="car-card" data-title="Ferrari 296 GTB" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Ferrari 296 GTB.mp4" type="video/mp4">
            </video>
            <div class="car-title">Ferrari 296 GTB</div>
            <div class="car-desc">Hybrid V6 supercar combining efficiency with pure Ferrari emotion.</div>
            <div class="car-price">$350,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='ferrari-296-gtb') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='ferrari-296') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <!-- Additional Cars -->
        <div class="car-card" data-title="Renault Clio V6 Sport" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Renault Clio V6 Sport.mp4" type="video/mp4">
            </video>
            <div class="car-title">Renault Clio V6 Sport</div>
            <div class="car-desc">Unique mid-engined hot hatch with exceptional performance.</div>
            <div class="car-price">$45,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='renault-clio-v6') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='renault-clio-v6') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Porsche 718 Cayman GTS" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Porsche_Cayman (2).mp4" type="video/mp4">
            </video>
            <div class="car-title">Porsche 718 Cayman GTS</div>
            <div class="car-desc">Perfect balance of performance and daily usability.</div>
            <div class="car-price">$85,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='porsche-718-cayman-gts') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='porsche-718-cayman-gts') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Lamborghini Countach LPI 800-4" data-category="sports luxury">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Lamborghini Countach.mp4" type="video/mp4">
            </video>
            <div class="car-title">Lamborghini Countach LPI 800</div>
            <div class="car-desc">Modern tribute to the iconic original with hybrid power.</div>
            <div class="car-price">$2,650,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='lamborghini-countach') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='lamborghini-countach') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>

        <div class="car-card" data-title="Lamborghini Huracn Sterrato" data-category="sports">
            <video
                width="100%"
                height="280"
                autoplay
                muted
                loop
                playsinline
                style="border-radius: 15px; object-fit: cover; background: #181828; border: 1px solid rgba(124, 77, 255, 0.2);">
                <source src="/static/Lamborghini_Huracn_Sterrato.mp4" type="video/mp4">
            </video>
            <div class="car-title">Lamborghini Huracn Sterrato</div>
            <div class="car-desc">World's first super sports car designed for off-road adventures.</div>
            <div class="car-price">$265,000</div>
            <div class="car-buttons">
                <a href="{{ url_for('buy_car', car_name='lamborghini-huracan-sterrato') }}" style="text-decoration: none;">
                    <button class="buy-btn">Buy</button>
                </a>
                <a href="{{ url_for('car_details', car_name='lamborghini-huracan-sterrato') }}" style="text-decoration: none;">
                    <button class="explore-btn">Explore</button>
                </a>
            </div>
        </div>
    </div>

    <!-- Enhanced Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-brand">
                    <img src="{{ url_for('static', filename='logo.png') }}" alt="CarHub Logo" class="footer-logo">
                    <h3 class="footer-title">CarHub</h3>
                </div>
                <p class="footer-description">
                    Your premier destination for <span class="text-gold">luxury</span> and <span class="text-navy">performance</span> vehicles. 
                    Experience the future of automotive excellence with our curated collection of the world's finest cars.
                </p>
                <div class="social-links">
                    <a href="#" class="social-link" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="#" class="social-link" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="{{ url_for('index') }}">Home</a></li>
                    <li><a href="{{ url_for('cars') }}">Shop Cars</a></li>
                    <li><a href="{{ url_for('inventory') }}">Inventory</a></li>
                    <li><a href="{{ url_for('video') }}">Video Gallery</a></li>
                    <li><a href="{{ url_for('about') }}">About Us</a></li>
                    <li><a href="{{ url_for('contact') }}">Contact</a></li>
                    {% if current_user.is_authenticated %}
                        <li><a href="{{ url_for('dashboard') }}">Dashboard</a></li>
                        <li><a href="{{ url_for('profile') }}">Profile</a></li>
                    {% endif %}
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Services</h4>
                <ul class="footer-links">
                    <li><a href="#">Car Sales</a></li>
                    <li><a href="#">Car Rentals</a></li>
                    <li><a href="#">Financing</a></li>
                    <li><a href="#">Insurance</a></li>
                    <li><a href="#">Maintenance</a></li>
                    <li><a href="#">Trade-In</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact Info</h4>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>123 CarHub Boulevard<br>Auto District, AD 12345</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <span>+1 (555) 123-CARS</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <span>info@carhub.com</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-clock"></i>
                        <span>Mon-Fri: 9AM-8PM<br>Sat-Sun: 10AM-6PM</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <p>&copy; 2024 CarHub. All rights reserved.</p>
                <div class="footer-bottom-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Cookie Policy</a>
                    <a href="#">Support</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Auto-hide flash messages after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                setTimeout(function() {
                    alert.style.opacity = '0';
                    setTimeout(function() {
                        alert.style.display = 'none';
                    }, 300);
                }, 5000);
            });
        });

        // Header scroll effect
        window.addEventListener('scroll', function() {
            if (window.scrollY > 50) {
                document.body.classList.add('scrolled');
            } else {
                document.body.classList.remove('scrolled');
            }
        });

        // Profile dropdown functionality
        function toggleProfileDropdown() {
            const dropdown = document.getElementById('profileDropdown');
            const arrow = document.querySelector('.dropdown-arrow');
            
            if (dropdown.classList.contains('active')) {
                dropdown.classList.remove('active');
                arrow.style.transform = 'rotate(0deg)';
            } else {
                dropdown.classList.add('active');
                arrow.style.transform = 'rotate(180deg)';
            }
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('profileDropdown');
            const profileTrigger = document.querySelector('.profile-trigger');
            
            if (dropdown && !profileTrigger.contains(event.target) && !dropdown.contains(event.target)) {
                dropdown.classList.remove('active');
                const arrow = document.querySelector('.dropdown-arrow');
                if (arrow) {
                    arrow.style.transform = 'rotate(0deg)';
                }
            }
        });

        // Debounce function for better performance
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Optimized search functionality
        const searchBar = document.getElementById('searchBar');
        const carCards = document.querySelectorAll('.car-card');
        
        const performSearch = debounce(function() {
            const query = searchBar.value.toLowerCase();
            
            carCards.forEach(card => {
                const title = card.getAttribute('data-title')?.toLowerCase() || '';
                const shouldShow = title.includes(query);
                
                if (shouldShow) {
                    card.style.display = '';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(10px)';
                    setTimeout(() => {
                        if (card.style.opacity === '0') {
                            card.style.display = 'none';
                        }
                    }, 200);
                }
            });
        }, 150);

        if (searchBar) {
            searchBar.addEventListener('input', performSearch);
        }

        // Optimized filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active button
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                
                carCards.forEach(card => {
                    const category = card.getAttribute('data-category');
                    // Check if filter matches any of the categories (supports multiple categories)
                    const shouldShow = filter === 'all' || 
                                     category === filter || 
                                     (category && category.split(' ').includes(filter));
                    
                    if (shouldShow) {
                        card.style.display = '';
                        card.style.opacity = '1';
                        card.style.transform = 'scale(1)';
                    } else {
                        card.style.opacity = '0';
                        card.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            if (card.style.opacity === '0') {
                                card.style.display = 'none';
                            }
                        }, 200);
                    }
                });
            });
        });

        // Enhanced notification system
        function showNotification(message, type = 'success') {
            // Remove existing notification
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }

            const notification = document.createElement('div');
            notification.className = 'notification';
            
            const bgColor = type === 'success' 
                ? 'linear-gradient(90deg, #27ae60 60%, #23235b 100%)'
                : 'linear-gradient(90deg, #7c4dff 60%, #23235b 100%)';
                
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: ${bgColor};
                color: white;
                padding: 1rem 2rem;
                border-radius: 12px;
                box-shadow: 0 8px 32px rgba(124, 77, 255, 0.3);
                z-index: 1002;
                transform: translateX(300px);
                transition: transform 0.3s ease;
                font-family: 'Poppins', sans-serif;
                font-weight: 600;
                font-size: 0.9rem;
                border: 1px solid rgba(255, 255, 255, 0.2);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            requestAnimationFrame(() => {
                notification.style.transform = 'translateX(0)';
            });
            
            setTimeout(() => {
                notification.style.transform = 'translateX(300px)';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Buy button functionality
        document.querySelectorAll('.buy-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const carTitle = this.closest('.car-card').querySelector('.car-title').textContent;
                showNotification(`${carTitle} added to cart!`, 'success');
                
                // Add button animation
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });

        // Add CSS transitions for smooth animations
        const style = document.createElement('style');
        style.textContent = `
            .car-card {
                transition: opacity 0.3s ease, transform 0.3s ease;
            }
            
            .buy-btn, .explore-btn {
                transition: all 0.3s ease, transform 0.15s ease;
            }
            
            .filter-btn {
                transition: all 0.3s ease;
            }
            
            .main-nav a {
                transition: all 0.3s ease;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>